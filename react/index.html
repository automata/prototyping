<!DOCTYPE html>
<html>
<head>
  <title>react + svg test</title>
  <style>
    body {
      padding: 0;
      margin: 0;
      background-color: hsl(0, 0%, 10%);
      font-family: monospace;
      overflow: hidden;
      color: white;
    }
    a {
      color: white;
    }
  </style>
  <link rel="stylesheet" href="the-graph-svg.css">

  <script src="//cdnjs.cloudflare.com/ajax/libs/dat-gui/0.5/dat.gui.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script src="../kieler-interface.js"></script>

  <script src="//cdnjs.cloudflare.com/ajax/libs/react/0.8.0/react.js"></script>

  <script src="the-graph.js"></script>
  <script src="the-graph-edge.js"></script>
  <script src="font-awesome-unicode-map.js"></script>
  <script src="the-graph-node.js"></script>
  <script src="the-graph-port.js"></script>

  <script type="text/javascript">
  (function(){
    "use strict";

    window.loadGraph = function (graph) {
      var width = window.innerWidth;
      var height = window.innerHeight;

      var app = React.renderComponent(
        TheGraph.App({
          graph: graph,
          width: width,
          height: height,
          options: { spacing: 15 }
        }),
        document.getElementById('app')
      );
      window.app = app;
      window.addEventListener('resize', function(){
        width = window.innerWidth;
        height = window.innerHeight;
        app.setState({
          width: width,
          height: height
        });
      });

      // var zoom = document.getElementById("zoom")
      // zoom.onmousemove = function (event) {
      //   // Don't drag
      //   event.stopPropagation();
      // };
      // zoom.addEventListener("input", function(event){
      //   app.setState({
      //     scale: parseFloat(event.target.value)
      //   });
      // });
      
    };

    window.onload = function () {
      var script = document.createElement('script');
      script.src = 'photobooth.json.js';
      document.head.appendChild(script);

      var KielerOptions = function () {
        this.spacing = 15.0;
        this.apply = function () {
          var app = window.app;
          app.setState({ options: this });
        };
      };

      var kielerOptions = new KielerOptions();

      var gui = new dat.GUI();
      gui.add(kielerOptions, 'spacing', 5, 200);
      gui.add(kielerOptions, 'apply');
    }

  })();
  </script>

</head>
<body>
  <div id="app"></div>
  <div style="position:absolute; top:0; left:0;">
    <a href="https://github.com/forresto/prototyping/blob/gh-pages/react/">source</a><br/>
    wheel to zoom<br/>
    <!-- <input id="zoom" type="range" min="0.04" max="8" step="0.01" value="1.0"></input><br/> -->
    drag to pan
  </div>
</body>
</html>
